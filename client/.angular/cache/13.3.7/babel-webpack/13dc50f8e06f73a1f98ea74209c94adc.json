{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\Matth\\\\workspace\\\\angular-ecommerce\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { fadeInUpOnEnterAnimation, fadeOutDownOnLeaveAnimation } from 'angular-animations';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../shared/services/alert.service\";\nimport * as i2 from \"@angular/common\";\n\nfunction AlertComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function AlertComponent_div_0_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return ctx_r1.closeAlert();\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(ctx_r0.alert - ctx_r0.primary);\n    i0.ɵɵproperty(\"@fadeInUp\", undefined)(\"@fadeOutDown\", undefined);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.alertMessage, \" \");\n  }\n}\n\nexport class AlertComponent {\n  constructor(AlertService) {\n    var _this = this;\n\n    this.AlertService = AlertService;\n    this.alertMessage = null;\n    this.AlertService.alert.subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (alert) {\n        _this.start = new Date();\n        _this.alertMessage = null;\n        yield _this.delay(1000);\n        _this.alertMessage = alert;\n        setInterval(() => {\n          var now = new Date();\n          if (now.getTime() - _this.start.getTime() > 5000) _this.alertMessage = null;\n        }, 5000);\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n\n  ngOnInit() {}\n\n  delay(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  closeAlert() {\n    this.alertMessage = null;\n  }\n\n}\n\nAlertComponent.ɵfac = function AlertComponent_Factory(t) {\n  return new (t || AlertComponent)(i0.ɵɵdirectiveInject(i1.AlertService));\n};\n\nAlertComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AlertComponent,\n  selectors: [[\"app-alert\"]],\n  decls: 1,\n  vars: 1,\n  consts: [[\"class\", \"alert alert-dismissible\", \"role\", \"alert\", 3, \"class\", 4, \"ngIf\"], [\"role\", \"alert\", 1, \"alert\", \"alert-dismissible\"], [\"type\", \"button\", 1, \"btn-close\", 3, \"click\"]],\n  template: function AlertComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, AlertComponent_div_0_Template, 3, 5, \"div\", 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.alertMessage);\n    }\n  },\n  directives: [i2.NgIf],\n  styles: [\".alert[_ngcontent-%COMP%] {\\n  width: 80vw;\\n  margin-left: 10vw;\\n  position: absolute;\\n  bottom: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFsZXJ0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0FBQ0oiLCJmaWxlIjoiYWxlcnQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYWxlcnR7XHJcbiAgICB3aWR0aDogODB2dztcclxuICAgIG1hcmdpbi1sZWZ0OiAxMHZ3O1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgYm90dG9tOiAxMHB4O1xyXG59Il19 */\"],\n  data: {\n    animation: [fadeInUpOnEnterAnimation({\n      anchor: 'fadeInUp',\n      delay: 50,\n      duration: 500,\n      translate: '10px'\n    }), fadeOutDownOnLeaveAnimation({\n      anchor: 'fadeOutDown',\n      duration: 500,\n      translate: '10px'\n    })]\n  }\n});","map":{"version":3,"sources":["C:/Users/Matth/workspace/angular-ecommerce/client/src/app/alert/alert.component.ts"],"names":["fadeInUpOnEnterAnimation","fadeOutDownOnLeaveAnimation","i0","i1","i2","AlertComponent_div_0_Template","rf","ctx","_r2","ɵɵgetCurrentView","ɵɵelementStart","ɵɵtext","ɵɵlistener","AlertComponent_div_0_Template_button_click_2_listener","ɵɵrestoreView","ctx_r1","ɵɵnextContext","closeAlert","ɵɵelementEnd","ctx_r0","ɵɵclassMap","alert","primary","ɵɵproperty","undefined","ɵɵadvance","ɵɵtextInterpolate1","alertMessage","AlertComponent","constructor","AlertService","subscribe","start","Date","delay","setInterval","now","getTime","ngOnInit","ms","Promise","resolve","setTimeout","ɵfac","AlertComponent_Factory","t","ɵɵdirectiveInject","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","AlertComponent_Template","ɵɵtemplate","directives","NgIf","styles","data","animation","anchor","duration","translate"],"mappings":"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","sourcesContent":["import { fadeInUpOnEnterAnimation, fadeOutDownOnLeaveAnimation } from 'angular-animations';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"./../shared/services/alert.service\";\r\nimport * as i2 from \"@angular/common\";\r\nfunction AlertComponent_div_0_Template(rf, ctx) { if (rf & 1) {\r\n    const _r2 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\", 1);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementStart(2, \"button\", 2);\r\n    i0.ɵɵlistener(\"click\", function AlertComponent_div_0_Template_button_click_2_listener() { i0.ɵɵrestoreView(_r2); const ctx_r1 = i0.ɵɵnextContext(); return ctx_r1.closeAlert(); });\r\n    i0.ɵɵelementEnd()();\r\n} if (rf & 2) {\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵclassMap(ctx_r0.alert - ctx_r0.primary);\r\n    i0.ɵɵproperty(\"@fadeInUp\", undefined)(\"@fadeOutDown\", undefined);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.alertMessage, \" \");\r\n} }\r\nexport class AlertComponent {\r\n    constructor(AlertService) {\r\n        this.AlertService = AlertService;\r\n        this.alertMessage = null;\r\n        this.AlertService.alert.subscribe((async (alert) => {\r\n            this.start = new Date();\r\n            this.alertMessage = null;\r\n            await this.delay(1000);\r\n            this.alertMessage = alert;\r\n            setInterval(() => {\r\n                var now = new Date();\r\n                if (now.getTime() - this.start.getTime() > 5000)\r\n                    this.alertMessage = null;\r\n            }, 5000);\r\n        }));\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    delay(ms) {\r\n        return new Promise(resolve => setTimeout(resolve, ms));\r\n    }\r\n    closeAlert() {\r\n        this.alertMessage = null;\r\n    }\r\n}\r\nAlertComponent.ɵfac = function AlertComponent_Factory(t) { return new (t || AlertComponent)(i0.ɵɵdirectiveInject(i1.AlertService)); };\r\nAlertComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: AlertComponent, selectors: [[\"app-alert\"]], decls: 1, vars: 1, consts: [[\"class\", \"alert alert-dismissible\", \"role\", \"alert\", 3, \"class\", 4, \"ngIf\"], [\"role\", \"alert\", 1, \"alert\", \"alert-dismissible\"], [\"type\", \"button\", 1, \"btn-close\", 3, \"click\"]], template: function AlertComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵtemplate(0, AlertComponent_div_0_Template, 3, 5, \"div\", 0);\r\n    } if (rf & 2) {\r\n        i0.ɵɵproperty(\"ngIf\", ctx.alertMessage);\r\n    } }, directives: [i2.NgIf], styles: [\".alert[_ngcontent-%COMP%] {\\n  width: 80vw;\\n  margin-left: 10vw;\\n  position: absolute;\\n  bottom: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFsZXJ0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0FBQ0oiLCJmaWxlIjoiYWxlcnQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYWxlcnR7XHJcbiAgICB3aWR0aDogODB2dztcclxuICAgIG1hcmdpbi1sZWZ0OiAxMHZ3O1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgYm90dG9tOiAxMHB4O1xyXG59Il19 */\"], data: { animation: [\r\n            fadeInUpOnEnterAnimation({ anchor: 'fadeInUp', delay: 50, duration: 500, translate: '10px' }),\r\n            fadeOutDownOnLeaveAnimation({ anchor: 'fadeOutDown', duration: 500, translate: '10px' })\r\n        ] } });\r\n"]},"metadata":{},"sourceType":"module"}